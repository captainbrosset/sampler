<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="app.css">
<header>
  <div class="header-control" id="toggle-recording"><em>record</em></div>
  <div class="header-control" id="toggle-playing"><em>play</em></div>
</header>
<div class="sampler">
  <div class="config-screen">
    <p>
      <label for="keyCode">Key</label>
      <input id="keyCode" maxlength="1" size="1" />
    </p>
    <p>
      <label for="url">Sound URL</label>
      <input id="url" />
    </p>
    <p>
      <label for="startTime">Start time</label>
      <input id="startTime" size="2" />
    </p>
    <p>
      <label for="repeat">Repeats</label>
      <input id="repeat" type="checkbox" />
    </p>
    <p>
      <label for="color">Color</label>
      <input id="color" />
    </p>
    <p>
      <button id="cancel">Cancel</button>
      <button id="save">Save</button>
    </p>
  </div>
  <ul class="samples">
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
    <li class="sample-button"><span class="config"></span></li>
  </ul>
</div>
<script src="events.js"></script>
<script src="app.js"></script>
<script>
var defaultButtons = [{
  url: "sounds/MMG_808-1.wav",
  keyCode: 49,
  color: "#E84BAB"
}, {
  url: "sounds/MMG_Snare-2.wav",
  keyCode: 50,
  color: "#FF60F4"
}, {
  url: "sounds/MMG_Cym-2.wav",
  keyCode: 51,
  color: "#FF9DBA"
}, {
  url: "sounds/MMG_Cym-4.wav",
  keyCode: 52,
  color: "#E84BAB"
}, {
  url: "sounds/MMG_FX-140-BPM-Riser.wav",
  keyCode: 81,
  color: "#B99EC5"
}, {
  url: "sounds/MMG_Hi-Hat-5.wav",
  keyCode: 87,
  color: "#B99EC5"
}, {
  url: "sounds/MMG_Kick-1.wav",
  keyCode: 69,
  color: "#D34BE8"
}, {
  url: "sounds/MMG_Kick-9.wav",
  keyCode: 82,
  color: "#B99EC5"
}, {
  url: "sounds/MMG_Perc_Bongo-2.wav",
  keyCode: 65,
  color: "#D34BE8"
}, {
  url: "sounds/MMG_Perc_Shake.wav",
  keyCode: 83,
  color: "#FF60F4"
}, {
  url: "sounds/MMG_Perc_Tri.wav",
  keyCode: 68,
  color: "#FF9DBA"
}, {
  url: "sounds/MMG_Ride-1.wav",
  keyCode: 70,
  color: "#FF60F4"
}, {
  url: "sounds/MMG_Snare-2.wav",
  keyCode: 90,
  color: "#B99EC5"
}, {
  url: "sounds/MMG_Perc_Bongo-1.wav",
  keyCode: 88,
  color: "#D34BE8"
}, {
  url: "sounds/MMG_Vox-Boss.wav",
  keyCode: 67,
  color: "#E84BAB"
}, {
  url: "sounds/MMG_Vox-Maybach Music Tag.wav",
  keyCode: 86,
  color: "#D34BE8"
}];

var sampler;
var recorder;

window.addEventListener("DOMContentLoaded", function() {
  // Construct the sampler
  sampler = new Sampler(document.querySelector(".sampler"));

  // Assign some default sounds to it
  for (var i = 0; i < defaultButtons.length; i ++) {
    var sample = sampler.getButton(i);
    sample.setSoundURL(defaultButtons[i].url);
    sample.setKeyCode(defaultButtons[i].keyCode);
    sample.setColor(defaultButtons[i].color);
    sample.setStartTime(defaultButtons[i].startTime);
    sample.setRepeat(defaultButtons[i].isRepeat);
  }

  // Construct the recorder
  recorder = new Recorder(sampler);
});
</script>
